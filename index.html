<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="refresh" content="600">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    function getTime() {
      var date = new Date();
      var hours = date.getHours();
      var minutes = date.getMinutes();
      var seconds = date.getSeconds();

      hours = (hours < 10) ? "0" + hours : hours;
      minutes = (minutes < 10) ? "0" + minutes : minutes;
      seconds = (seconds < 10) ? "0" + seconds : seconds;

      var time = hours + ":" + minutes + ":" + seconds;
      document.getElementById("server-time").innerHTML = time;
    }

    setInterval(getTime, 1000); // Update time every second
  </script>
     <style>
        body {
            background-color: black;
            color: white;
        }
    </style>
</head>
<body>
  <h1>Server Time:</h1>
  <div id="server-time"></div>
   <div id="datacontainer"></div>
   <div id="output"></div>

  <script>
    // Function to make the API request and update the HTML content
    function fetchData() {
      $.ajax({
        url: 'https://api.data.gov.in/resource/3b01bcb8-0b14-4abf-b6f2-c1bfd384ba69?api-key=579b464db66ec23bdd000001cdd3946e44ce4aad7209ff7b23ac571b&format=json&filters%5Bstate%5D=Delhi&filters%5Bstation%5D=Sri%20Aurobindo%20Marg%2C%20Delhi%20-%20DPCC',
        method: 'GET',
        success: function(data) {
          // Update the HTML content with the received data
          $('#datacontainer').html(JSON.parse(data));
var result = "";
      for (i=0,i<7,i++) {
          result += "<strong>" + datacontainer.records[i].pollutant_id + ":</strong> " + datacontainer.records[i].pollutant_avg + "<br>";
           document.getElementById("output").innerHTML = result;
        }

          
        },
        error: function(error) {
          console.log('Error:', error);
        }
      });
    }

    // Call the fetchData function when the page is loaded
    $(document).ready(function() {
      fetchData();
    };
  </script>
</body>
</html>
